---
import BaseLayout from "../layouts/BaseLayout.astro";

const clubName = "BOXING CLUB COLAK";
const adresseClub = "Rue de l'Olive 13A, 7100 La Louvière";
const clubEmail = "mirac.colak@outlook.com";
const clubPhone = "0487 11 88 77";
const clubPhoneValue = "+32487118877";

const subjects = [
  "Séance d'essai gratuite",
  "Inscription (Novice / Loisir)",
  "Inscription (Compétiteur)",
  "Question générale",
  "Partenariat / Presse"
];
---

<BaseLayout 
  title={`Contact — ${clubName}`}
  description="Contactez le Boxing Club Colak à La Louvière pour une séance d'essai ou toute demande d'information."
>

<section class="contact-hero first">
  <div class="container reveal">
    <span class="section-label">Disponibilité & Écoute</span>
    <h1 class="page-title">ENTRER SUR <span class="text-stroke">LE RING</span></h1>
    <p class="hero-subtitle">Prêt à franchir le pas ? Envoyez-nous un message ou passez nous voir directement au club pour une immersion totale.</p>
  </div>
</section>

<section class="section-contact-main">
  <div class="container">
    <div class="contact-grid">
      
      <div class="contact-info-wrapper reveal">
        <div class="info-card">
          <h2 class="info-title">Nos coordonnées</h2>
          
          <div class="info-item">
            <span class="info-label">Adresse</span>
            <p>{adresseClub}</p>
          </div>

          <div class="info-item">
            <span class="info-label">Téléphone</span>
            <p><a href={`tel:${clubPhoneValue}`} class="link-gold">{clubPhone}</a></p>
          </div>

          <div class="info-item">
            <span class="info-label">E-mail</span>
            <p><a href={`mailto:${clubEmail}`} class="link-gold">{clubEmail}</a></p>
          </div>
        </div>

        <div class="social-card">
          <h2 class="info-title">Réseaux Sociaux</h2>
          <div class="social-links">
            <a href="https://www.instagram.com/boxing.club.colak/" target="_blank" rel="noopener noreferrer" class="social-btn">Instagram</a>
            <a href="https://www.facebook.com/profile.php?id=100089497443998" target="_blank" rel="noopener noreferrer" class="social-btn">Facebook</a>
            <a href="https://www.tiktok.com/@boxing.club.colak" target="_blank" rel="noopener noreferrer" class="social-btn">TikTok</a>
          </div>
        </div>
      </div>

      <div class="form-wrapper reveal">
        <form id="contact-form" class="contact-form">
          <div class="form-group-row">
            <div class="form-group">
              <label for="name">Nom complet</label>
              <input type="text" id="name" name="name" placeholder="Ex: Jean Dupont" required />
            </div>
            <div class="form-group">
              <label for="email">E-mail</label>
              <input type="email" id="email" name="email" placeholder="votre@email.com" required />
            </div>
          </div>

          <div class="form-group">
            <label for="subject">Sujet de votre demande</label>
            <select id="subject" name="subject">
              {subjects.map(s => (
                <option value={s}>{s}</option>
              ))}
            </select>
          </div>

          <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" rows="6" placeholder="Comment pouvons-nous vous aider ?" required></textarea>
          </div>

          <button type="submit" id="submit-btn" class="btn-submit">ENVOYER LE MESSAGE</button>
          <p id="form-status" class="form-status-msg"></p>
        </form>
      </div>
    </div>

    <div class="map-container reveal">
      <iframe 
        src="https://www.google.com/maps/embed/v1/place?key=YOUR_API_KEY&q=ADDRESS0" 
        width="100%" 
        height="450" 
        style="border:0;" 
        allowfullscreen="" 
        loading="lazy" 
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
</section>

</BaseLayout>

<script is:inline src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script is:inline>
  (function() {
    emailjs.init("mAR7_JuiRBmmhJtuq");
  })();

  const contactForm = document.getElementById('contact-form');
  const submitBtn = document.getElementById('submit-btn');
  const statusMsg = document.getElementById('form-status');

  contactForm.addEventListener('submit', function(event) {
    event.preventDefault();
    
    submitBtn.innerText = "ENVOI EN COURS...";
    submitBtn.disabled = true;

    emailjs.sendForm('service_yf1ji1g', 'template_0clvoqw', this)
      .then(function() {
        statusMsg.innerText = "Message envoyé avec succès ! Le coach vous répondra bientôt.";
        statusMsg.style.color = "#c79d31";
        contactForm.reset();
        submitBtn.innerText = "ENVOYER LE MESSAGE";
        submitBtn.disabled = false;
      }, function(error) {
        statusMsg.innerText = "Erreur lors de l'envoi. Veuillez réessayer plus tard.";
        statusMsg.style.color = "#ff4d4d";
        submitBtn.innerText = "RÉESSAYER";
        submitBtn.disabled = false;
      });
  });

  // Animation Reveal
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting) entry.target.classList.add('is-visible');
    });
  }, { threshold: 0.1 });
  document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
</script>

<style>
  /* CONFIGURATION GÉNÉRALE */
  .contact-hero { padding: 180px 0 80px; text-align: left; }
  
  .section-label {
    display: block;
    font-family: var(--font-accent);
    color: var(--color-accent);
    letter-spacing: 4px;
    text-transform: uppercase;
    margin-bottom: 15px;
    font-size: 0.9rem;
  }

  .page-title {
    font-size: clamp(3rem, 8vw, 6rem);
    color: #fff;
    text-transform: uppercase;
    margin-bottom: 30px;
    line-height: 1;
  }

  .text-stroke {
    color: transparent;
    -webkit-text-stroke: 1px rgba(255,255,255,0.4);
  }

  .hero-subtitle { 
    max-width: 700px; 
    font-size: 1.2rem; 
    color: #888; 
    line-height: 1.6;
  }

  .section-contact-main { padding-bottom: 100px; }
  .contact-grid { 
    display: grid; 
    grid-template-columns: 1fr 1.6fr; 
    gap: 80px; 
    align-items: flex-start;
  }

  /* INFOS & CARDS */
  .info-card, .social-card { 
    background: rgba(255, 255, 255, 0.02); 
    border: 1px solid rgba(255, 255, 255, 0.05); 
    padding: 50px; 
    margin-bottom: 30px; 
  }

  .info-title { 
    font-family: var(--font-accent); 
    color: #fff; 
    text-transform: uppercase; 
    font-size: 1.5rem; 
    margin-bottom: 40px; 
    letter-spacing: 2px; 
  }

  .info-item { margin-bottom: 30px; }
  .info-label { 
    display: block; 
    font-size: 0.7rem; 
    text-transform: uppercase; 
    color: var(--color-accent); 
    letter-spacing: 3px; 
    margin-bottom: 10px; 
  }
  .info-item p { font-size: 1.2rem; color: #fff; }

  .link-gold { color: #fff; text-decoration: none; transition: 0.3s; font-weight: 700; }
  .link-gold:hover { color: var(--color-accent); }

  .social-links { display: flex; gap: 15px; flex-wrap: wrap; }
  .social-btn { 
    padding: 10px 20px; 
    border: 1px solid rgba(255,255,255,0.1); 
    color: #888; 
    text-decoration: none; 
    font-size: 0.8rem; 
    font-family: var(--font-accent);
    letter-spacing: 1px;
    transition: 0.3s; 
  }
  .social-btn:hover { background: var(--color-accent); color: #000; border-color: var(--color-accent); }

  /* FORMULAIRE - AGRANDI POUR MOBILE */
  .form-wrapper { 
    background: rgba(199, 157, 49, 0.03); 
    border: 1px solid rgba(199, 157, 49, 0.1); 
    padding: 60px; 
  }
  .contact-form { display: flex; flex-direction: column; gap: 30px; }
  .form-group-row { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
  .form-group { display: flex; flex-direction: column; gap: 12px; }
  .form-group label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; color: #666; font-family: var(--font-accent); }
  
  input, select, textarea { 
    background: #000; 
    border: 1px solid rgba(255,255,255,0.1); 
    padding: 18px; 
    color: #fff; 
    font-size: 1rem;
    transition: 0.3s; 
  }
  input:focus, select:focus, textarea:focus { 
    outline: none; 
    border-color: var(--color-accent); 
    background: rgba(199, 157, 49, 0.05); 
  }

  .btn-submit { 
    background: var(--color-accent); 
    color: #000; 
    padding: 22px; 
    border: none; 
    font-family: var(--font-accent);
    font-size: 1.2rem;
    letter-spacing: 2px;
    cursor: pointer; 
    transition: 0.3s; 
    margin-top: 10px;
  }
  .btn-submit:hover { background: #fff; transform: translateY(-3px); }
  
  .form-status-msg { margin-top: 20px; font-size: 1rem; font-weight: 500; text-align: center; }

  /* MAP */
  .map-container { margin-top: 80px; border: 1px solid rgba(255, 255, 255, 0.05); filter: grayscale(1) invert(0.9) contrast(1.2); }

  /* RESPONSIVE */
  @media (max-width: 1024px) {
    .contact-grid { grid-template-columns: 1fr; gap: 40px; }
  }

  @media (max-width: 768px) {
    .contact-hero { padding-top: 140px; }
    .form-wrapper { padding: 40px 20px; } /* Plus de place pour le formulaire sur mobile */
    .form-group-row { grid-template-columns: 1fr; gap: 24px; }
    .info-card, .social-card { padding: 30px; }
  }

  /* REVEAL ANIMATION */
  .reveal { opacity: 0; transform: translateY(30px); transition: 1s cubic-bezier(0.16, 1, 0.3, 1); }
  .reveal.is-visible { opacity: 1; transform: translateY(0); }
</style>